'use strict';

exports.__esModule = true;
exports.default = enableLogging;

var _utils = require('./utils');

var _lodash = require('lodash.wrap');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function enableLogging(tide) {
  var actions = tide.getActions();
  Object.keys(actions).forEach(function (key) {
    var actionsClass = actions[key];
    var methods = Object.keys((0, _utils.getInternalMethods)(actionsClass.constructor));
    methods.forEach(function (method) {
      actionsClass[method] = (0, _lodash2.default)(actionsClass[method], function (func) {
        for (var _len = arguments.length, callArgs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          callArgs[_key - 1] = arguments[_key];
        }

        logActionCall(key, method, callArgs);
        return func.apply(this, callArgs);
      });
    });
  });
}

/* eslint-disable no-console */
function logActionCall(actionsName, methodName, args) {
  var logArgs = ['%cAction performed', 'font-weight: bold;', actionsName + '.' + methodName].concat(args);
  console.log.apply(console, logArgs);
}