{% extends "base.html"%}
{% block head %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel = "stylesheet" href = "../static/CSS/profile.css">
    <link rel = "stylesheet" href = "../static/CSS/searchBar.css">
    <style> /* Just using borders for testing (feel free to remove this style section) */
        #profileInfo {
            border-style: solid;
            border-width: 1px;
            display: flex;
            flex-direction: row;
        }
        #ratingsPicContainer {
            display: flex;
            flex-direction: column;
            justify-content: left;
            width: 50%;
        }
        #nameLocationBioContainer {
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex-grow: 1;
        }
    </style>
{% endblock %}

{% block content %}
    <br>    
    <form id="searchContainer" method="post">
        <label for="search" id="searchLabel"> Find </label>
        <input name="search" type="text" id="searchBar" placeholder="gardener, plumber, painter... ">
        <script>
            if (document.getElementById("searchBar").value == null) {


            } else {
                document.getElementById("searchBar").value = sessionStorage.getItem("searchItem");
            }
        </script>
        <label for="locationBar" id="locationLabel"> Near </label>
        <input name="locationBar" type="text" id="locationBar" placeholder="Fresno,CA">
        <div id="filterContainer">filter paceholder</div>

        <div id="searchButtonContainer"><input type="submit" name="searchButton" id="searchButton" onclick = "setSearchTerm()"> </div>
    </form>
    <br>
    <section id = profileContent>
        <section id = "profileInfo">
            <div id = "ratingsPicContainer">
                <div id = "profileRatings">
                    <p>ratings</p>
                </div>
                <div id ="profilePic">
                    <img src = "/static/profilePic/bigSur1.jpg"  id = "userImg">
                </div>
            </div>
            <div id = nameLocationBioContainer>
                <div id = "profileName">
                    <p>Name: {{profileResult['profile']['displayName']}}</p>
                </div>
                <div id = "profileLocation">
                    <p>Location: {{profileResult['profile']['location']}}</p>
                </div>
                <div id = "profileBio">
                    <p>Labors: {{profileResult['profile']['labors']}}</p>
                    <p>Bio: {{profileResult['profile']['userBio']}}</p>
                </div>
            </div>
        </section>
        <section id = "userProjects">
            <h2>Projects</h2>
            
            {% for project in profileResult['projects'] %}
                <article id = "projectContainer">
                    <h3>{{project['projName']}}</h3>
                    <div id = "projectContent">
                        <img src = "" alt = "photo1" class = "projectPhoto">
                        <img src = "" alt = "photo2" class = "projectPhoto">
                        <div id = "projectDescription">
                            <p>{{project['projDescription']}}</p>
                        </div>
                    </div>
                </article>
            {% endfor %}
        </section>
    </section>
    {% if isUser is true %}
        <a href = "{{url_for('addproj')}}">Add Project</a>
        <br>
        <a href = "{{url_for('profileEdit')}}">Edit</a>
    {% endif %}
    {% endblock %}